(()=>{var e={927:function(e){var t,s;e.exports=(t={138:e=>{e.exports=(e,t={})=>{const s=e=>!isNaN(e)&&+e+""==e+"",i=(e=0,t=0)=>({min:e,max:t}),l=e=>{[N,O].forEach(e)},r=(e,t,s)=>{if(e)return t;s()},o=(e,t,s="")=>{e.setAttribute(t,s)},a=(e,t)=>{e.removeAttribute(t)},n=(e,t,s,i=!0)=>{e.addEventListener(t,s,i?{passive:!1,capture:!0}:{})},d=(e,t,s,i=!0)=>{e.removeEventListener(t,s,i?{passive:!1,capture:!0}:{})},c=(e,s)=>{t[e]={}.hasOwnProperty.call(t,e)?t[e]:s},u=(e,s)=>t.orientation===R?e:s,h=e=>1===e?Z.max:Z.min,m=()=>{let e=!1;s(t.min)&&s(t.max)||(e=!0),t.min=e?1:+t.min,t.max=e?1:+t.max},f=()=>{t.thumbsDisabled instanceof Array?(1===t.thumbsDisabled.length&&t.thumbsDisabled.push(!1),1!==t.thumbsDisabled.length&&2!==t.thumbsDisabled.length&&(t.thumbsDisabled=[!1,!1])):t.thumbsDisabled=[t.thumbsDisabled,t.thumbsDisabled],t.thumbsDisabled[0]=!!t.thumbsDisabled[0],t.thumbsDisabled[1]=!!t.thumbsDisabled[1]},g=(e,s=!1,l=!0,r=!0)=>{const n=i(ae[Z.min].value,ae[Z.max].value);e=e||n,ae[Z.min].value=e.min,ae[Z.max].value=le||s?e.max:e.min+se,b(),W.min>W.max&&(Z.min=+!Z.min,Z.max=+!Z.max,a(ne[Z.min],H),a(ne[Z.max],G),o(ne[Z.min],G),o(ne[Z.max],H),le&&(le=le===N?O:N),b()),ee=s?W:e;let d=!1;(n.min!==ae[Z.min].value||s)&&(d=!0),(n.max!==ae[Z.max].value||s)&&(d=!0),d&&(l&&t.onInput&&t.onInput([W.min,W.max],r),S(),p(),v(),x())},b=()=>{l((e=>{W[e]=+ae[Z[e]].value}))},p=()=>{l((e=>{ne[Z[e]].style[u("top","left")]=`calc(${(W[e]-t.min)/te*100}% + ${(.5-(W[e]-t.min)/te)*u(J,X)[e]}px)`}))},v=()=>{const s=e.getBoundingClientRect(),i=(.5-(W.min-t.min)/te)*u(J,X).min/u(s.bottom-s.top,s.right-s.left),l=(.5-(W.max-t.min)/te)*u(J,X).max/u(s.bottom-s.top,s.right-s.left);oe.style[u("top","left")]=100*((W.min-t.min)/te+i)+"%",oe.style[u("height","width")]=100*((W.max-t.min)/te-(W.min-t.min)/te-i+l)+"%"},y=()=>{l(((e,s)=>{Q[e]=t.thumbsDisabled[s]?W[e]:t[e]}))},F=()=>{l(((e,s)=>{t.disabled||t.thumbsDisabled[s]?a(ne[h(s)],U):o(ne[h(s)],U,0)}))},x=()=>{l((e=>{o(ne[Z[e]],"aria-valuemin",t.min),o(ne[Z[e]],"aria-valuemax",t.max),o(ne[Z[e]],"aria-valuenow",W[e]),o(ne[Z[e]],"aria-valuetext",W[e])}))},C=()=>{t.disabled?o(e,K):a(e,K)},L=()=>{t.thumbsDisabled.forEach(((e,t)=>{const s=h(t);e?(o(ne[s],K),o(ne[s],"aria-disabled",!0)):(a(ne[s],K),o(ne[s],"aria-disabled",!1))}))},E=(e,s=!1)=>{t[e]=s,m(),l((e=>{ae[0][e]=t[e],ae[1][e]=t[e]})),te=t.max-t.min,g("",!0,!0,!1),y()},w=()=>{t.orientation===R?o(e,Y):a(e,Y),oe.style[u("left","top")]="",oe.style[u("width","height")]="",ne[0].style[u("left","top")]="",ne[1].style[u("left","top")]=""},S=()=>{l((e=>{X[e]=V(P(ne[Z[e]]).width),J[e]=V(P(ne[Z[e]]).height)}))},k=(s,i)=>{const l=e.getBoundingClientRect(),r=i.getBoundingClientRect(),o=(u(r.top-l.top,r.left-l.left)+(s[`client${u("Y","X")}`]-i.getBoundingClientRect()[u("top","left")])-(le?(.5-(W[le]-t.min)/te)*u(J,X)[le]:0))/u(l.bottom-l.top,l.right-l.left)*te+t.min;return o<t.min?t.min:o>t.max?t.max:o},I=(e,t)=>!e.target.classList.contains(t),M=(e,s=!0)=>{let l=!1;if(!t.disabled&&(I(e,"range-slider__thumb")&&I(e,"range-slider__range")||t.rangeSlideDisabled&&I(e,"range-slider__thumb"))&&(l=!0),l&&t.thumbsDisabled[0]&&t.thumbsDisabled[1]&&(l=!1),l){const l=k(e,oe),r=D(W.min-l),o=D(W.max-l);if(t.thumbsDisabled[0])l>=W.min&&(g(i(W.min,l),!0,!s),q(e,Z.max,ne[Z.max],!s));else if(t.thumbsDisabled[1])l<=W.max&&(g(i(l,W.max),!0,!s),q(e,Z.min,ne[Z.min],!s));else{let t=Z.max;r===o?g(i(W.min,l),!0,!s):(g(i(r<o?l:W.min,o<r?l:W.max),!0,!s),t=r<o?Z.min:Z.max),q(e,t,ne[t],!s)}s&&M(e,!1)}},T=(e,t)=>{S(),o(t,z),re=k(e,t),ie=!0},q=(e,s,i,l=!0)=>{t.disabled||t.thumbsDisabled[h(s)]||(T(e,i),le=Z.min===s?N:O,l&&t.onThumbDragStart&&t.onThumbDragStart())},A=e=>{if(ie){const s=k(e,oe),l=s-re;let r=W.min,o=W.max;const a=le?Q.min:t.min,n=le?Q.max:t.max;le&&le!==N||(r=le?s:ee.min+l),le&&le!==O||(o=le?s:ee.max+l),r>=a&&r<=n&&o>=a&&o<=n?(g({min:r,max:o}),re=s):(r>n&&le&&(g(i(n,n)),re=s),o<a&&le&&(g(i(a,a)),re=s),r<a&&(g(i(a,le?W.max:W.max-W.min+a)),re=s),o>n&&(g(i(le?W.min:W.min-W.max+n,n)),re=s)),le||y()}},j=()=>{ie&&(a(ne[0],z),a(ne[1],z),a(oe,z),ie=!1,le?t.onThumbDragEnd&&t.onThumbDragEnd():t.onRangeDragEnd&&t.onRangeDragEnd())},B=()=>{S(),p(),v()},$=()=>{const e=V(ae[0].step);return ae[0].step===_?_:0===e||isNaN(e)?1:e},D=Math.abs,V=parseFloat,P=window.getComputedStyle,N="min",O="max",_="any",R="vertical",U="tabindex",G="data-lower",H="data-upper",z="data-active",Y="data-vertical",K="data-disabled",W=i(),Z=i(0,1),X=i(),J=i(),Q=i();let ee=i(),te=0,se=0,ie=!1,le=!1,re=0;c("rangeSlideDisabled",!1),c("thumbsDisabled",[!1,!1]),c("orientation","horizontal"),c("disabled",!1),c("onThumbDragStart",!1),c("onRangeDragStart",!1),c("onThumbDragEnd",!1),c("onRangeDragEnd",!1),c("onInput",!1),c("value",[25,75]),c("step",1),c("min",0),c("max",100),m(),f(),e.innerHTML=`<input type="range" min="${t.min}" max="${t.max}" step="${t.step}" value="${t.value[0]}" disabled><input type="range" min="${t.min}" max="${t.max}" step="${t.step}" value="${t.value[1]}" disabled><div role="slider" class="range-slider__thumb" ${G}></div><div role="slider" class="range-slider__thumb" ${H}></div><div class="range-slider__range"></div>`,e.classList.add("range-slider");const oe=e.querySelector(".range-slider__range"),ae=e.querySelectorAll("input"),ne=e.querySelectorAll(".range-slider__thumb");return te=t.max-t.min,g("",!0,!1),y(),C(),L(),F(),w(),n(e,"pointerdown",(e=>{M(e)})),Array.from(ne).forEach(((e,s)=>{n(e,"pointerdown",(t=>{q(t,s,e)})),n(e,"keydown",(e=>{e.which>=37&&e.which<=40&&(e.preventDefault(),((e,s)=>{const i=(37===s||40===s?-1:1)*u(-1,1);if(!t.disabled&&!t.thumbsDisabled[h(e)]){let t=$();t=t===_?1:t;let s=W.min+t*(Z.min===e?i:0),l=W.max+t*(Z.max===e?i:0);s>Q.max&&(s=Q.max),l<Q.min&&(l=Q.min),g({min:s,max:l},!0)}})(s,e.which))}))})),n(oe,"pointerdown",(e=>{(e=>{t.disabled||t.rangeSlideDisabled||(T(e,oe),se=W.max-W.min,le=!1,t.onRangeDragStart&&t.onRangeDragStart())})(e)})),n(document,"pointermove",A),n(document,"pointerup",j),n(window,"resize",B),{min:(e=!1)=>r(!e&&0!==e,t.min,(()=>{E(N,e)})),max:(e=!1)=>r(!e&&0!==e,t.max,(()=>{E(O,e)})),step:(e=!1)=>r(!e,$(),(()=>{ae[0].step=e,ae[1].step=e,g("",!0,!0,!1)})),value:(e=!1)=>r(!e,[W.min,W.max],(()=>{g(i(e[0],e[1]),!0,!0,!1),y()})),orientation:(e=!1)=>r(!e,t.orientation,(()=>{t.orientation=e,w(),g("",!0,!0,!1)})),disabled:(e=!0)=>{t.disabled=!!e,C()},thumbsDisabled:(e=[!0,!0])=>{t.thumbsDisabled=e,f(),y(),F(),L()},rangeSlideDisabled:(e=!0)=>{t.rangeSlideDisabled=!!e},currentValueIndex:()=>le?le===N?0:1:-1,removeGlobalEventListeners:()=>{d(document,"pointermove",A),d(document,"pointerup",j),d(window,"resize",B)}}}}},s={},function e(i){var l=s[i];if(void 0!==l)return l.exports;var r=s[i]={exports:{}};return t[i](r,r.exports,e),r.exports}(138))}},t={};function s(i){var l=t[i];if(void 0!==l)return l.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=()=>{let e=document.createElement("div");e.style.visibility="hidden",e.style.position="absolute",e.style.width="50px",e.style.height="50px",e.style.overflowY="scroll",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return e.remove(),t},t=t=>{const{element:s=null}=t||{};let i=s||document.body;i&&"body"===i.tagName.toLowerCase()&&console.log("block",i),i.style.overflow="hidden",i.style.marginRight=e()+"px",document.querySelectorAll("[data-js-body-overflow-x-indent]").forEach((t=>t.style.paddingRight=e()+"px"))},i=e=>{const{element:t=null}=e||{};let s=t||document.body;const i=()=>{s.style.overflow="initial",s.style.marginRight=0,document.querySelectorAll("[data-js-body-overflow-x-indent]").forEach((e=>e.style.paddingRight=0))};if("BODY"===s.tagName){let e=!1;return document.querySelectorAll(".modal").forEach((t=>{t.classList.contains("show")&&(e=!0)})),void(!e&&i())}i()},l=e=>{let{element:t,onlyThisElements:s=[],type:i="",checkHasActiveClass:l=!1}=e,r=[];if(t||s.length){const e=t&&t.getAttribute("data-js-toggle-class-type")||s[0]&&s[0].getAttribute("data-js-toggle-class-type");r=e?document.querySelectorAll(`[data-js-toggle-class-type="${e}"]`):t&&t.parentElement.querySelectorAll("[data-js-toggle-class]")}if(l&&s.length){let e=!1;return s=s[0].getAttribute("data-js-toggle-class-type")&&document.querySelectorAll(`[data-js-toggle-class-type="${s[0].getAttribute("data-js-toggle-class-type")}"]`)||s,s.forEach((t=>{if(t){const s=t&&t.getAttribute("data-js-toggle-class"),i=s&&s.split(",");if(i&&i.length){const s=i[0].split(">");s&&s.length&&(t.classList.contains(s[1])||t.hasAttribute("data-js-toggle-active"))&&(e=!0)}}})),e}var o;(o=r)&&o.length&&o.forEach((e=>{const t=e.getAttribute("data-js-toggle-class"),s=t&&t.split(", ");s&&s.length&&s.forEach((t=>{const s=t.split(">");2===s.length&&("remove"===i&&(""===s[0]||" "===s[0]?e.classList.remove(s[1]):e.classList.contains(s[1])&&(e.classList.remove(s[1]),e.classList.add(s[0]))),"add"===i&&(""===s[0]||" "===s[0]?e.classList.add(s[1]):e.classList.contains(s[0])&&(e.classList.remove(s[0]),e.classList.add(s[1]))))}))}))},r=function(e){const{elementById:t}=e||{};this.elementById=t,this.element=document.getElementById(this.elementById),this.element&&this.element.addEventListener("click",(e=>{e.preventDefault();const t=e.currentTarget,s=t.getAttribute("data-js-copy-to-clipboard");var i,l;i=s,(l=document.createElement("input")).setAttribute("value",i),document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l),t.textContent="Ð¡opied",setTimeout((()=>{t.textContent="Copy"}),2e3)}))},o=function(e,t){this.selector=e,this.settings=t||{},this.init=function(){this.inputLabel=this.selector.dataset.selectboxLabel||!1;let e=this.selector.querySelectorAll("option");this.id=Math.floor(1e6*Math.random()),this.selector.dataset.selectboxId=this.id,this.options=[],this.callbacks={},this.settings.on&&(this.callbacks=this.settings.on),e&&e.forEach(function(e){this.options.push({value:e.value||e.innerHTML,label:e.innerHTML,selected:e.selected||!1,disabled:e.disabled||!1}),e.selected&&(this.selectedOption={value:e.value||e.innerHTML,label:e.innerHTML,selected:!0})}.bind(this)),this.options.length&&(this.render(),this.initTargets(),this.initEvents())},this.render=function(){let e="";this.options.map((function(t){let s=["selectbox_list_item"];return t.selected&&s.push("selected"),t.disabled&&s.push("disabled"),e+=`<li class="${s.join(" ")}" data-value="${t.value}" data-disabled="${t.disabled?1:0}">${t.label}</li>`,t}));let t=this.selectedOption||this.options[0],s=`\n\t\t\t<div class="selectbox_wrapper" id="selectbox_${this.id}">\n\t\t\t\t<div class="selectbox_input">\n\t\t\t\t\t${this.inputLabel?`<span class="selectbox_input_label">${this.inputLabel}</span>`:""}\t\t\t\t\t\n\t\t\t\t\t<span class="selectbox_input_value" data-value="${t.value}">${t.label}</span>\n\t\t\t\t\t<span class="selectbox_input_arrow">\n\t\t\t\t\t\t<i class="icon-arrow-bottom-2"></i>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<ul class="selectbox_list">${e}</ul>\n\t\t\t</div>\n\t\t\t`;this.selector.insertAdjacentHTML("afterEnd",s),this.selector.style.display="none"},this.initTargets=function(){this.selectBox=this.selector.nextElementSibling,this.selectBoxInput=this.selectBox.querySelector(".selectbox_input"),this.selectBoxInputValue=this.selectBoxInput.querySelector(".selectbox_input_value"),this.selectBoxList=this.selectBox.querySelector(".selectbox_list"),this.selectBoxListItems=this.selectBoxList.querySelectorAll(".selectbox_list_item")},this.initEvents=function(){this.selectBoxInput.addEventListener("click",this.onClick.bind(this)),this.selectboxOpenEvent=new CustomEvent("selectbox_open"),this.selectBox.addEventListener("selectbox_open",this.onOpen.bind(this),!1),this.selectboxCloseEvent=new CustomEvent("selectbox_close"),this.selectBox.addEventListener("selectbox_close",this.onClose.bind(this),!1),document.addEventListener("click",function(e){e.target.closest(`#selectbox_${this.id}`)||this.selectBox.classList.remove("selectbox_open")}.bind(this)),this.selectBoxListItems.forEach(function(e){e.addEventListener("click",this.onSelect.bind(this))}.bind(this))},this.onClick=function(e){e.preventDefault(),this.selectBox.classList.contains("selectbox_open")?this.selectBox.dispatchEvent(this.selectboxCloseEvent):this.selectBox.dispatchEvent(this.selectboxOpenEvent)},this.onOpen=function(){this.selectBox.classList.add("selectbox_open"),this.callbacks.open&&"function"==typeof this.callbacks.open&&this.callbacks.open.call(this)},this.setDirection=function(){let e=window.getComputedStyle(this.selectBoxList).getPropertyValue("max-height");e=parseInt(e);let t=window.innerHeight-(this.selectBox.offsetTop+this.selectBox.offsetHeight);!isNaN(e)&&t<e?this.selectBox.classList.add("selectbox_direction_bottom"):this.selectBox.classList.remove("selectbox_direction_bottom")},this.onClose=function(){this.selectBox.classList.remove("selectbox_open"),this.callbacks.close&&"function"==typeof this.callbacks.close&&this.callbacks.close.call(this)},this.onSelect=function(e){e.preventDefault(),parseInt(e.target.dataset.disabled)||(this.selectBoxInputValue.innerHTML=e.target.innerHTML,this.selectBoxInputValue.dataset.value=e.target.dataset.value,this.selector.value=e.target.dataset.value,this.selector.dispatchEvent(new Event("change")),this.selectBoxListItems.forEach((function(e){e.classList.remove("selected")})),e.target.classList.add("selected"),this.callbacks.select&&"function"==typeof this.callbacks.select&&this.callbacks.select.call(this,{value:e.target.dataset.value,label:e.target.innerHTML}),this.selectBox.dispatchEvent(this.selectboxCloseEvent))},this.init()};var a=s(927),n=s.n(a);var d=Object.defineProperty,c=(e,t,s)=>(((e,t,s)=>{t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);const u=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,h=/^[0-9]+$/,m=/^(?=.*[A-Za-z])(?=.*\d).{8,}$/,f=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;var g=(e=>(e.Required="required",e.Email="email",e.MinLength="minLength",e.MaxLength="maxLength",e.Password="password",e.Number="number",e.MaxNumber="maxNumber",e.MinNumber="minNumber",e.StrongPassword="strongPassword",e.CustomRegexp="customRegexp",e.MinFilesCount="minFilesCount",e.MaxFilesCount="maxFilesCount",e.Files="files",e))(g||{}),b=(e=>(e.Required="required",e))(b||{}),p=(e=>(e.Label="label",e.LabelArrow="labelArrow",e))(p||{});const v=[{key:g.Required,dict:{en:"The field is required"}},{key:g.Email,dict:{en:"Email has invalid format"}},{key:g.MaxLength,dict:{en:"The field must contain a maximum of :value characters"}},{key:g.MinLength,dict:{en:"The field must contain a minimum of :value characters"}},{key:g.Password,dict:{en:"Password must contain minimum eight characters, at least one letter and one number"}},{key:g.StrongPassword,dict:{en:"Password should contain minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character"}},{key:g.Number,dict:{en:"Value should be a number"}},{key:g.MaxNumber,dict:{en:"Number should be less or equal than :value"}},{key:g.MinNumber,dict:{en:"Number should be more or equal than :value"}},{key:g.MinFilesCount,dict:{en:"Files count should be more or equal than :value"}},{key:g.MaxFilesCount,dict:{en:"Files count should be less or equal than :value"}},{key:g.Files,dict:{en:"Uploaded files have one or several invalid properties (extension/size/type etc)."}}],y=e=>"object"==typeof e&&null!==e&&"then"in e&&"function"==typeof e.then,F=e=>Array.isArray(e)?e.filter((e=>e.length>0)):"string"==typeof e&&e.trim()?[...e.split(" ").filter((e=>e.length>0))]:[],x=e=>e instanceof Element||e instanceof HTMLDocument,C={errorFieldStyle:{color:"#b81111",border:"1px solid #B81111"},errorFieldCssClass:"just-validate-error-field",successFieldCssClass:"just-validate-success-field",errorLabelStyle:{color:"#b81111"},errorLabelCssClass:"just-validate-error-label",successLabelCssClass:"just-validate-success-label",focusInvalidField:!0,lockForm:!0,testingMode:!1,validateBeforeSubmitting:!1};class L{constructor(e,t,s){c(this,"form",null),c(this,"fields",{}),c(this,"groupFields",{}),c(this,"errors",{}),c(this,"isValid",!1),c(this,"isSubmitted",!1),c(this,"globalConfig",C),c(this,"errorLabels",{}),c(this,"successLabels",{}),c(this,"eventListeners",[]),c(this,"dictLocale",v),c(this,"currentLocale","en"),c(this,"customStyleTags",{}),c(this,"onSuccessCallback"),c(this,"onFailCallback"),c(this,"tooltips",[]),c(this,"lastScrollPosition"),c(this,"isScrollTick"),c(this,"fieldIds",new Map),c(this,"getKeyByFieldSelector",(e=>this.fieldIds.get(e))),c(this,"getFieldSelectorByKey",(e=>{for(const[t,s]of this.fieldIds)if(e===s)return t})),c(this,"setKeyByFieldSelector",(e=>{if(this.fieldIds.has(e))return this.fieldIds.get(e);const t=String(this.fieldIds.size+1);return this.fieldIds.set(e,t),t})),c(this,"refreshAllTooltips",(()=>{this.tooltips.forEach((e=>{e.refresh()}))})),c(this,"handleDocumentScroll",(()=>{this.lastScrollPosition=window.scrollY,this.isScrollTick||(window.requestAnimationFrame((()=>{this.refreshAllTooltips(),this.isScrollTick=!1})),this.isScrollTick=!0)})),c(this,"formSubmitHandler",(e=>{e.preventDefault(),this.isSubmitted=!0,this.validateHandler(e)})),c(this,"handleFieldChange",(e=>{let t;for(const s in this.fields)if(this.fields[s].elem===e){t=s;break}t&&this.validateField(t,!0)})),c(this,"handleGroupChange",(e=>{let t,s;for(const i in this.groupFields){const l=this.groupFields[i];if(l.elems.find((t=>t===e))){t=l,s=i;break}}t&&s&&this.validateGroup(s,t)})),c(this,"handlerChange",(e=>{e.target&&(this.handleFieldChange(e.target),this.handleGroupChange(e.target),this.renderErrors())})),this.initialize(e,t,s)}initialize(e,t,s){if(this.form=null,this.errors={},this.isValid=!1,this.isSubmitted=!1,this.globalConfig=C,this.errorLabels={},this.successLabels={},this.eventListeners=[],this.customStyleTags={},this.tooltips=[],this.currentLocale="en","string"==typeof e){const t=document.querySelector(e);if(!t)throw Error(`Form with ${e} selector not found! Please check the form selector`);this.setForm(t)}else{if(!(e instanceof HTMLFormElement))throw Error("Form selector is not valid. Please specify a string selector or a DOM element.");this.setForm(e)}if(this.globalConfig={...C,...t},s&&(this.dictLocale=[...s,...v]),this.isTooltip()){const e=document.createElement("style");e.textContent=".just-validate-error-label[data-tooltip=true]{position:fixed;padding:4px 8px;background:#423f3f;color:#fff;white-space:nowrap;z-index:10;border-radius:4px;transform:translateY(-5px)}.just-validate-error-label[data-tooltip=true]:before{content:'';width:0;height:0;border-left:solid 5px transparent;border-right:solid 5px transparent;border-bottom:solid 5px #423f3f;position:absolute;z-index:3;display:block;bottom:-5px;transform:rotate(180deg);left:calc(50% - 5px)}.just-validate-error-label[data-tooltip=true][data-direction=left]{transform:translateX(-5px)}.just-validate-error-label[data-tooltip=true][data-direction=left]:before{right:-7px;bottom:auto;left:auto;top:calc(50% - 2px);transform:rotate(90deg)}.just-validate-error-label[data-tooltip=true][data-direction=right]{transform:translateX(5px)}.just-validate-error-label[data-tooltip=true][data-direction=right]:before{right:auto;bottom:auto;left:-7px;top:calc(50% - 2px);transform:rotate(-90deg)}.just-validate-error-label[data-tooltip=true][data-direction=bottom]{transform:translateY(5px)}.just-validate-error-label[data-tooltip=true][data-direction=bottom]:before{right:auto;bottom:auto;left:calc(50% - 5px);top:-5px;transform:rotate(0)}",this.customStyleTags[p.Label]=document.head.appendChild(e),this.addListener("scroll",document,this.handleDocumentScroll)}}getLocalisedString(e,t,s){var i;const l=null!=s?s:e;let r=null==(i=this.dictLocale.find((e=>e.key===l)))?void 0:i.dict[this.currentLocale];if(r||s&&(r=s),r&&void 0!==t)switch(e){case g.MaxLength:case g.MinLength:case g.MaxNumber:case g.MinNumber:case g.MinFilesCount:case g.MaxFilesCount:r=r.replace(":value",String(t))}return r||s||"Value is incorrect"}getFieldErrorMessage(e,t){const s="function"==typeof e.errorMessage?e.errorMessage(this.getElemValue(t),this.fields):e.errorMessage;return this.getLocalisedString(e.rule,e.value,s)}getFieldSuccessMessage(e,t){const s="function"==typeof e?e(this.getElemValue(t),this.fields):e;return this.getLocalisedString(void 0,void 0,s)}getGroupErrorMessage(e){return this.getLocalisedString(e.rule,void 0,e.errorMessage)}getGroupSuccessMessage(e){if(e.successMessage)return this.getLocalisedString(void 0,void 0,e.successMessage)}setFieldInvalid(e,t){this.fields[e].isValid=!1,this.fields[e].errorMessage=this.getFieldErrorMessage(t,this.fields[e].elem)}setFieldValid(e,t){this.fields[e].isValid=!0,void 0!==t&&(this.fields[e].successMessage=this.getFieldSuccessMessage(t,this.fields[e].elem))}setGroupInvalid(e,t){this.groupFields[e].isValid=!1,this.groupFields[e].errorMessage=this.getGroupErrorMessage(t)}setGroupValid(e,t){this.groupFields[e].isValid=!0,this.groupFields[e].successMessage=this.getGroupSuccessMessage(t)}getElemValue(e){switch(e.type){case"checkbox":return e.checked;case"file":return e.files;default:return e.value}}validateGroupRule(e,t,s){s.rule===b.Required&&(t.every((e=>!e.checked))?this.setGroupInvalid(e,s):this.setGroupValid(e,s))}validateFieldRule(e,t,s,i=!1){const l=s.value,r=this.getElemValue(t);var o;if(s.plugin)s.plugin(r,this.fields)||this.setFieldInvalid(e,s);else switch(s.rule){case g.Required:(e=>{let t=e;return"string"==typeof e&&(t=e.trim()),!t})(r)&&this.setFieldInvalid(e,s);break;case g.Email:if("string"!=typeof r){this.setFieldInvalid(e,s);break}o=r,u.test(o)||this.setFieldInvalid(e,s);break;case g.MaxLength:if(void 0===l){console.error(`Value for ${s.rule} rule for [${e}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(e,s);break}if("number"!=typeof l){console.error(`Value for ${s.rule} rule for [${e}] should be a number. The field will be always invalid.`),this.setFieldInvalid(e,s);break}if("string"!=typeof r){this.setFieldInvalid(e,s);break}if(""===r)break;((e,t)=>e.length>t)(r,l)&&this.setFieldInvalid(e,s);break;case g.MinLength:if(void 0===l){console.error(`Value for ${s.rule} rule for [${e}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(e,s);break}if("number"!=typeof l){console.error(`Value for ${s.rule} rule for [${e}] should be a number. The field will be always invalid.`),this.setFieldInvalid(e,s);break}if("string"!=typeof r){this.setFieldInvalid(e,s);break}if(""===r)break;((e,t)=>e.length<t)(r,l)&&this.setFieldInvalid(e,s);break;case g.Password:if("string"!=typeof r){this.setFieldInvalid(e,s);break}if(""===r)break;(e=>m.test(e))(r)||this.setFieldInvalid(e,s);break;case g.StrongPassword:if("string"!=typeof r){this.setFieldInvalid(e,s);break}if(""===r)break;(e=>f.test(e))(r)||this.setFieldInvalid(e,s);break;case g.Number:if("string"!=typeof r){this.setFieldInvalid(e,s);break}if(""===r)break;(e=>h.test(e))(r)||this.setFieldInvalid(e,s);break;case g.MaxNumber:{if(void 0===l){console.error(`Value for ${s.rule} rule for [${e}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(e,s);break}if("number"!=typeof l){console.error(`Value for ${s.rule} rule for [${e}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(e,s);break}if("string"!=typeof r){this.setFieldInvalid(e,s);break}if(""===r)break;const t=+r;(Number.isNaN(t)||((e,t)=>e>t)(t,l))&&this.setFieldInvalid(e,s);break}case g.MinNumber:{if(void 0===l){console.error(`Value for ${s.rule} rule for [${e}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(e,s);break}if("number"!=typeof l){console.error(`Value for ${s.rule} rule for [${e}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(e,s);break}if("string"!=typeof r){this.setFieldInvalid(e,s);break}if(""===r)break;const t=+r;(Number.isNaN(t)||((e,t)=>e<t)(t,l))&&this.setFieldInvalid(e,s);break}case g.CustomRegexp:{if(void 0===l)return console.error(`Value for ${s.rule} rule for [${e}] field is not defined. This field will be always invalid.`),void this.setFieldInvalid(e,s);let t;try{t=new RegExp(l)}catch(t){console.error(`Value for ${s.rule} rule for [${e}] should be a valid regexp. This field will be always invalid.`),this.setFieldInvalid(e,s);break}const i=String(r);""===i||t.test(i)||this.setFieldInvalid(e,s);break}case g.MinFilesCount:if(void 0===l){console.error(`Value for ${s.rule} rule for [${e}] field is not defined. This field will be always invalid.`),this.setFieldInvalid(e,s);break}if("number"!=typeof l){console.error(`Value for ${s.rule} rule for [${e}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(e,s);break}if(Number.isFinite(null==r?void 0:r.length)&&r.length<l){this.setFieldInvalid(e,s);break}break;case g.MaxFilesCount:if(void 0===l){console.error(`Value for ${s.rule} rule for [${e}] field is not defined. This field will be always invalid.`),this.setFieldInvalid(e,s);break}if("number"!=typeof l){console.error(`Value for ${s.rule} rule for [${e}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(e,s);break}if(Number.isFinite(null==r?void 0:r.length)&&r.length>l){this.setFieldInvalid(e,s);break}break;case g.Files:{if(void 0===l)return console.error(`Value for ${s.rule} rule for [${e}] field is not defined. This field will be always invalid.`),void this.setFieldInvalid(e,s);if("object"!=typeof l)return console.error(`Value for ${s.rule} rule for [${e}] field should be an object. This field will be always invalid.`),void this.setFieldInvalid(e,s);const t=l.files;if("object"!=typeof t)return console.error(`Value for ${s.rule} rule for [${e}] field should be an object with files array. This field will be always invalid.`),void this.setFieldInvalid(e,s);const i=(e,t)=>{const s=Number.isFinite(t.minSize)&&e.size<t.minSize,i=Number.isFinite(t.maxSize)&&e.size>t.maxSize,l=Array.isArray(t.names)&&!t.names.includes(e.name),r=Array.isArray(t.extensions)&&!t.extensions.includes(e.name.split(".")[e.name.split(".").length-1]),o=Array.isArray(t.types)&&!t.types.includes(e.type);return s||i||l||r||o};if("object"==typeof r&&null!==r)for(let l=0,o=r.length;l<o;++l){const o=r.item(l);if(!o){this.setFieldInvalid(e,s);break}if(i(o,t)){this.setFieldInvalid(e,s);break}}break}default:{if("function"!=typeof s.validator)return console.error(`Validator for custom rule for [${e}] field should be a function. This field will be always invalid.`),void this.setFieldInvalid(e,s);const t=s.validator(r,this.fields);if("boolean"!=typeof t&&"function"!=typeof t&&console.error(`Validator return value for [${e}] field should be boolean or function. It will be cast to boolean.`),"function"==typeof t){if(!i){this.fields[e].asyncCheckPending=!1;const i=t();return y(i)?i.then((t=>{t||this.setFieldInvalid(e,s)})).catch((()=>{this.setFieldInvalid(e,s)})):(console.error(`Validator function for custom rule for [${e}] field should return a Promise. This field will be always invalid.`),void this.setFieldInvalid(e,s))}this.fields[e].asyncCheckPending=!0}t||this.setFieldInvalid(e,s)}}}validateField(e,t=!1){var s;const i=this.fields[e];i.isValid=!0;const l=[];return[...i.rules].reverse().forEach((s=>{const r=this.validateFieldRule(e,i.elem,s,t);y(r)&&l.push(r)})),i.isValid&&this.setFieldValid(e,null==(s=i.config)?void 0:s.successMessage),Promise.allSettled(l)}revalidateField(e){if("string"!=typeof e&&!x(e))throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.");const t=this.getKeyByFieldSelector(e);return t&&this.fields[t]?new Promise((e=>{this.validateField(t,!0).finally((()=>{this.clearFieldStyle(t),this.clearFieldLabel(t),this.renderFieldError(t),e(!!this.fields[t].isValid)}))})):(console.error("Field not found. Check the field selector."),Promise.reject())}validateGroup(e,t){const s=[];return[...t.rules].reverse().forEach((i=>{const l=this.validateGroupRule(e,t.elems,i);y(l)&&s.push(l)})),Promise.allSettled(s)}focusInvalidField(){for(const e in this.fields){const t=this.fields[e];if(!t.isValid){setTimeout((()=>t.elem.focus()),0);break}}}afterSubmitValidation(e=!1){this.renderErrors(e),this.globalConfig.focusInvalidField&&this.focusInvalidField()}validate(e=!1){return new Promise((t=>{const s=[];Object.keys(this.fields).forEach((e=>{const t=this.validateField(e);y(t)&&s.push(t)})),Object.keys(this.groupFields).forEach((e=>{const t=this.groupFields[e],i=this.validateGroup(e,t);y(i)&&s.push(i)})),s.length?Promise.allSettled(s).then((()=>{this.afterSubmitValidation(e),t(!0)})):(this.afterSubmitValidation(e),t(!1))}))}revalidate(){return new Promise((e=>{this.validateHandler(void 0,!0).finally((()=>{this.globalConfig.focusInvalidField&&this.focusInvalidField(),e(this.isValid)}))}))}validateHandler(e,t=!1){return this.globalConfig.lockForm&&this.lockForm(),this.validate(t).finally((()=>{var t,s;this.globalConfig.lockForm&&this.unlockForm(),this.isValid?null==(t=this.onSuccessCallback)||t.call(this,e):null==(s=this.onFailCallback)||s.call(this,this.fields,this.groupFields)}))}setForm(e){this.form=e,this.form.setAttribute("novalidate","novalidate"),this.removeListener("submit",this.form,this.formSubmitHandler),this.addListener("submit",this.form,this.formSubmitHandler)}addListener(e,t,s){t.addEventListener(e,s),this.eventListeners.push({type:e,elem:t,func:s})}removeListener(e,t,s){t.removeEventListener(e,s),this.eventListeners=this.eventListeners.filter((s=>s.type!==e||s.elem!==t))}addField(e,t,s){if("string"!=typeof e&&!x(e))throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.");let i;if(i="string"==typeof e?this.form.querySelector(e):e,!i)throw Error("Field doesn't exist in the DOM! Please check the field selector.");if(!Array.isArray(t)||!t.length)throw Error("Rules argument should be an array and should contain at least 1 element.");t.forEach((e=>{if(!("rule"in e||"validator"in e||"plugin"in e))throw Error("Rules argument must contain at least one rule or validator property.");if(!(e.validator||e.plugin||e.rule&&Object.values(g).includes(e.rule)))throw Error(`Rule should be one of these types: ${Object.values(g).join(", ")}. Provided value: ${e.rule}`)}));const l=this.setKeyByFieldSelector(e);return this.fields[l]={elem:i,rules:t,isValid:void 0,config:s},this.setListeners(i),this.isSubmitted&&this.validate(),this}removeField(e){if("string"!=typeof e&&!x(e))throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.");const t=this.getKeyByFieldSelector(e);if(!t||!this.fields[t])return console.error("Field not found. Check the field selector."),this;const s=this.getListenerType(this.fields[t].elem.type);return this.removeListener(s,this.fields[t].elem,this.handlerChange),this.clearErrors(),delete this.fields[t],this}removeGroup(e){if("string"!=typeof e)throw Error("Group selector is not valid. Please specify a string selector.");const t=this.getKeyByFieldSelector(e);return t&&this.groupFields[t]?(this.groupFields[t].elems.forEach((e=>{const t=this.getListenerType(e.type);this.removeListener(t,e,this.handlerChange)})),this.clearErrors(),delete this.groupFields[t],this):(console.error("Group not found. Check the group selector."),this)}addRequiredGroup(e,t,s,i){if("string"!=typeof e)throw Error("Group selector is not valid. Please specify a string selector.");const l=this.form.querySelector(e);if(!l)throw Error(`Group with ${e} selector not found! Please check the group selector.`);const r=l.querySelectorAll("input"),o=Array.from(r).filter((e=>{const t=((e,t)=>{const s=[...t].reverse();for(let t=0,i=s.length;t<i;++t){const i=s[t];for(const t in e){const s=e[t];if(s.groupElem===i)return[t,s]}}return null})(this.groupFields,(e=>{let t=e;const s=[];for(;t;)s.unshift(t),t=t.parentNode;return s})(e));return!t||t[1].elems.find((t=>t!==e))})),a=this.setKeyByFieldSelector(e);return this.groupFields[a]={rules:[{rule:b.Required,errorMessage:t,successMessage:i}],groupElem:l,elems:o,isDirty:!1,isValid:void 0,config:s},r.forEach((e=>{this.setListeners(e)})),this}getListenerType(e){switch(e){case"checkbox":case"select-one":case"file":case"radio":return"change";default:return"input"}}setListeners(e){const t=this.getListenerType(e.type);this.removeListener(t,e,this.handlerChange),this.addListener(t,e,this.handlerChange)}clearFieldLabel(e){var t,s;null==(t=this.errorLabels[e])||t.remove(),null==(s=this.successLabels[e])||s.remove()}clearFieldStyle(e){var t,s,i,l;const r=this.fields[e],o=(null==(t=r.config)?void 0:t.errorFieldStyle)||this.globalConfig.errorFieldStyle;Object.keys(o).forEach((e=>{r.elem.style[e]=""}));const a=(null==(s=r.config)?void 0:s.successFieldStyle)||this.globalConfig.successFieldStyle||{};Object.keys(a).forEach((e=>{r.elem.style[e]=""})),r.elem.classList.remove(...F((null==(i=r.config)?void 0:i.errorFieldCssClass)||this.globalConfig.errorFieldCssClass),...F((null==(l=r.config)?void 0:l.successFieldCssClass)||this.globalConfig.successFieldCssClass))}clearErrors(){var e,t;Object.keys(this.errorLabels).forEach((e=>this.errorLabels[e].remove())),Object.keys(this.successLabels).forEach((e=>this.successLabels[e].remove()));for(const e in this.fields)this.clearFieldStyle(e);for(const s in this.groupFields){const i=this.groupFields[s],l=(null==(e=i.config)?void 0:e.errorFieldStyle)||this.globalConfig.errorFieldStyle;Object.keys(l).forEach((e=>{i.elems.forEach((t=>{var s;t.style[e]="",t.classList.remove(...F((null==(s=i.config)?void 0:s.errorFieldCssClass)||this.globalConfig.errorFieldCssClass))}))}));const r=(null==(t=i.config)?void 0:t.successFieldStyle)||this.globalConfig.successFieldStyle||{};Object.keys(r).forEach((e=>{i.elems.forEach((t=>{var s;t.style[e]="",t.classList.remove(...F((null==(s=i.config)?void 0:s.successFieldCssClass)||this.globalConfig.successFieldCssClass))}))}))}this.tooltips=[]}isTooltip(){return!!this.globalConfig.tooltip}lockForm(){const e=this.form.querySelectorAll("input, textarea, button, select");for(let t=0,s=e.length;t<s;++t)e[t].setAttribute("data-just-validate-fallback-disabled",e[t].disabled?"true":"false"),e[t].setAttribute("disabled","disabled"),e[t].style.pointerEvents="none",e[t].style.webkitFilter="grayscale(100%)",e[t].style.filter="grayscale(100%)"}unlockForm(){const e=this.form.querySelectorAll("input, textarea, button, select");for(let t=0,s=e.length;t<s;++t)"true"!==e[t].getAttribute("data-just-validate-fallback-disabled")&&e[t].removeAttribute("disabled"),e[t].style.pointerEvents="",e[t].style.webkitFilter="",e[t].style.filter=""}renderTooltip(e,t,s){var i;const{top:l,left:r,width:o,height:a}=e.getBoundingClientRect(),n=t.getBoundingClientRect(),d=s||(null==(i=this.globalConfig.tooltip)?void 0:i.position);switch(d){case"left":t.style.top=l+a/2-n.height/2+"px",t.style.left=r-n.width-5+"px";break;case"top":t.style.top=l-n.height-5+"px",t.style.left=r+o/2-n.width/2+"px";break;case"right":t.style.top=l+a/2-n.height/2+"px",t.style.left=`${r+o+5}px`;break;case"bottom":t.style.top=`${l+a+5}px`,t.style.left=r+o/2-n.width/2+"px"}return t.dataset.direction=d,{refresh:()=>{this.renderTooltip(e,t,s)}}}createErrorLabelElem(e,t,s){const i=document.createElement("div");i.innerHTML=t;const l=this.isTooltip()?null==s?void 0:s.errorLabelStyle:(null==s?void 0:s.errorLabelStyle)||this.globalConfig.errorLabelStyle;return Object.assign(i.style,l),i.classList.add(...F((null==s?void 0:s.errorLabelCssClass)||this.globalConfig.errorLabelCssClass),"just-validate-error-label"),this.isTooltip()&&(i.dataset.tooltip="true"),this.globalConfig.testingMode&&(i.dataset.testId=`error-label-${e}`),this.errorLabels[e]=i,i}createSuccessLabelElem(e,t,s){if(void 0===t)return null;const i=document.createElement("div");i.innerHTML=t;const l=(null==s?void 0:s.successLabelStyle)||this.globalConfig.successLabelStyle;return Object.assign(i.style,l),i.classList.add(...F((null==s?void 0:s.successLabelCssClass)||this.globalConfig.successLabelCssClass),"just-validate-success-label"),this.globalConfig.testingMode&&(i.dataset.testId=`success-label-${e}`),this.successLabels[e]=i,i}renderErrorsContainer(e,t){const s=t||this.globalConfig.errorsContainer;if("string"==typeof s){const t=this.form.querySelector(s);if(t)return t.appendChild(e),!0;console.error(`Error container with ${s} selector not found. Errors will be rendered as usual`)}return s instanceof Element?(s.appendChild(e),!0):(void 0!==s&&console.error("Error container not found. It should be a string or existing Element. Errors will be rendered as usual"),!1)}renderGroupLabel(e,t,s,i){!i&&this.renderErrorsContainer(t,s)||e.appendChild(t)}renderFieldLabel(e,t,s,i){var l,r,o,a,n,d,c;if(i||!this.renderErrorsContainer(t,s))if("checkbox"===e.type||"radio"===e.type){const s=document.querySelector(`label[for="${e.getAttribute("id")}"]`);"label"===(null==(r=null==(l=e.parentElement)?void 0:l.tagName)?void 0:r.toLowerCase())?null==(a=null==(o=e.parentElement)?void 0:o.parentElement)||a.appendChild(t):s?null==(n=s.parentElement)||n.appendChild(t):null==(d=e.parentElement)||d.appendChild(t)}else null==(c=e.parentElement)||c.appendChild(t)}showLabels(e,t){Object.keys(e).forEach(((s,i)=>{const l=e[s],r=this.getKeyByFieldSelector(s);if(!r||!this.fields[r])return void console.error("Field not found. Check the field selector.");const o=this.fields[r];o.isValid=!t,this.clearFieldStyle(r),this.clearFieldLabel(r),this.renderFieldError(r,l),0===i&&this.globalConfig.focusInvalidField&&setTimeout((()=>o.elem.focus()),0)}))}showErrors(e){if("object"!=typeof e)throw Error("[showErrors]: Errors should be an object with key: value format");this.showLabels(e,!0)}showSuccessLabels(e){if("object"!=typeof e)throw Error("[showSuccessLabels]: Labels should be an object with key: value format");this.showLabels(e,!1)}renderFieldError(e,t){var s,i,l,r,o,a;const n=this.fields[e];if(void 0===n.isValid)return;if(n.isValid){if(!n.asyncCheckPending){const l=this.createSuccessLabelElem(e,void 0!==t?t:n.successMessage,n.config);l&&this.renderFieldLabel(n.elem,l,null==(s=n.config)?void 0:s.errorsContainer,!0),n.elem.classList.add(...F((null==(i=n.config)?void 0:i.successFieldCssClass)||this.globalConfig.successFieldCssClass))}return}this.isValid=!1,n.elem.classList.add(...F((null==(l=n.config)?void 0:l.errorFieldCssClass)||this.globalConfig.errorFieldCssClass));const d=this.createErrorLabelElem(e,void 0!==t?t:n.errorMessage,n.config);this.renderFieldLabel(n.elem,d,null==(r=n.config)?void 0:r.errorsContainer),this.isTooltip()&&this.tooltips.push(this.renderTooltip(n.elem,d,null==(a=null==(o=n.config)?void 0:o.tooltip)?void 0:a.position))}renderGroupError(e){var t,s,i,l;const r=this.groupFields[e];if(void 0===r.isValid)return;if(r.isValid){r.elems.forEach((e=>{var t,s;Object.assign(e.style,(null==(t=r.config)?void 0:t.successFieldStyle)||this.globalConfig.successFieldStyle),e.classList.add(...F((null==(s=r.config)?void 0:s.successFieldCssClass)||this.globalConfig.successFieldCssClass))}));const s=this.createSuccessLabelElem(e,r.successMessage,r.config);return void(s&&this.renderGroupLabel(r.groupElem,s,null==(t=r.config)?void 0:t.errorsContainer,!0))}this.isValid=!1,r.elems.forEach((e=>{var t,s;Object.assign(e.style,(null==(t=r.config)?void 0:t.errorFieldStyle)||this.globalConfig.errorFieldStyle),e.classList.add(...F((null==(s=r.config)?void 0:s.errorFieldCssClass)||this.globalConfig.errorFieldCssClass))}));const o=this.createErrorLabelElem(e,r.errorMessage,r.config);this.renderGroupLabel(r.groupElem,o,null==(s=r.config)?void 0:s.errorsContainer),this.isTooltip()&&this.tooltips.push(this.renderTooltip(r.groupElem,o,null==(l=null==(i=r.config)?void 0:i.tooltip)?void 0:l.position))}renderErrors(e=!1){if(this.isSubmitted||e||this.globalConfig.validateBeforeSubmitting){this.clearErrors(),this.isValid=!0;for(const e in this.groupFields)this.renderGroupError(e);for(const e in this.fields)this.renderFieldError(e)}}destroy(){this.eventListeners.forEach((e=>{this.removeListener(e.type,e.elem,e.func)})),Object.keys(this.customStyleTags).forEach((e=>{this.customStyleTags[e].remove()})),this.clearErrors(),this.globalConfig.lockForm&&this.unlockForm()}refresh(){this.destroy(),this.form?(this.initialize(this.form,this.globalConfig),Object.keys(this.fields).forEach((e=>{const t=this.getFieldSelectorByKey(e);t&&this.addField(t,[...this.fields[e].rules],this.fields[e].config)}))):console.error("Cannot initialize the library! Form is not defined")}setCurrentLocale(e){"string"==typeof e||void 0===e?(this.currentLocale=e,this.isSubmitted&&this.validate()):console.error("Current locale should be a string")}onSuccess(e){return this.onSuccessCallback=e,this}onFail(e){return this.onFailCallback=e,this}}const E=function(e){const{elementContainer:t}=e||{};this.elementContainer=t,this.elementContainer&&this.elementContainer.addEventListener("keyup",(function(e){let t=e.srcElement;if(!t.value||!/^\d+$/.test(t.value))return void(t.value="");let s=parseInt(t.attributes.maxlength.value,10),i=t.value.length;if(i>=s){let e=t;const s=e.parentElement&&e.parentElement.parentElement&&e.parentElement.parentElement.nextElementSibling&&e.parentElement.parentElement.nextElementSibling.querySelector("input");for(;(e=s)&&null!=e;)if("input"==e.tagName.toLowerCase()){e.focus();break}}if(0===i){let e=t;for(;(e=e.previousElementSibling)&&null!=e;)if("input"==e.tagName.toLowerCase()){e.focus();break}}}),!1),this.elementContainer&&this.elementContainer.addEventListener("keydown",(function(e){e.srcElement.value=""}),!1)},w=function(e){const{tabSelectorById:t}=e||{};if(console.log("this.tabSelector",t),this.tabSelectorById=t,this.tabElement=document.getElementById(`${this.tabSelectorById}`),this.tabElement){const e=this.tabElement.querySelectorAll("[data-js-tab-button]"),t=this.tabElement.querySelectorAll("[data-js-tab-content-item]"),s=()=>{t.forEach((e=>{e.classList.add("d-none"),e.setAttribute("data-fade-in",""),e.classList.remove("d-block")})),e.forEach((e=>{l({element:e,type:"remove"})}))},i=s=>{const i=e[s],r=t[s];i&&l({element:i,type:"add"}),r&&r.classList.add("d-block"),r&&r.classList.remove("d-none")};s(),i(0),e.forEach(((e,t)=>{e.addEventListener("click",(()=>{s(),i(t)}))}))}},S=[{pages:["/log-in"],callback:()=>{new L("#logInForm",{errorFieldCssClass:"is-invalid"}).addField("#logInFormEmailOrUserName",[{rule:"minLength",value:3},{rule:"maxLength",value:30},{rule:"required",errorMessage:""}]).addField("#logInFormPassword",[{rule:"minLength",value:3},{rule:"maxLength",value:30},{rule:"required",errorMessage:""}]).onSuccess((e=>{}))}},{pages:["/sign-up"],callback:()=>{new L("#signUpForm",{errorFieldCssClass:"is-invalid"}).addField("#signUpFormUserName",[{rule:"minLength",value:3},{rule:"maxLength",value:30},{rule:"required",errorMessage:""}]).addField("#signUpFormEmail",[{rule:"minLength",value:3},{rule:"maxLength",value:30},{rule:"required",errorMessage:""}]).addField("#signUpFormPassword",[{rule:"minLength",value:3},{rule:"maxLength",value:30},{rule:"required",errorMessage:""}]).addField("#signUpFormPasswordConfirmation",[{rule:"minLength",value:3},{rule:"maxLength",value:30},{rule:"required",errorMessage:""}]).addField("#signUpFormAccept",[{rule:"required",errorMessage:"accept"}]).onSuccess((e=>{}))}},{pages:["/forgot-password"],callback:()=>{new L("#forgotPasswordForm",{errorFieldCssClass:"is-invalid"}).addField("#email",[{rule:"minLength",value:3},{rule:"maxLength",value:30},{rule:"required",errorMessage:"Email or Username is invalid!"}]).onSuccess((e=>{}))}},{pages:["/set-your-pin-code"],callback:()=>{const e=document.getElementById("yourPINCode"),t=document.getElementById("repeatYourPINCode");new E({elementContainer:e}),new E({elementContainer:t})}},{pages:["/code-sent-to-your-email"],callback:()=>{const e=document.getElementById("codeEmail");new E({elementContainer:e})}},{pages:["/cabinet-partnership-dashboard"],callback:()=>{new L("#sendMessageModalForm",{errorFieldCssClass:"is-invalid"}).addField("#sendMessageModalFormSubject",[{rule:"required",errorMessage:""}]).addField("#sendMessageModalFormMessage",[{rule:"required",errorMessage:""}]).onSuccess((e=>{})),new r({elementById:"copyPartnerLink"})}},{pages:["/cabinet"],callback:()=>{const e=document.getElementById("typeOfActionSelect");e&&new o(e,{on:{open:function(){},close:function(){},select:function(e){}}}),new r({elementById:"copyPartnerLink"})}},{pages:["/cabinet-top-up-crypto","/cabinet-top-up-crypto-2","/cabinet-top-up-crypto-3","/cabinet-top-up-crypto-4"],callback:()=>{const e=document.getElementById("oldPINCode"),t=document.getElementById("newPINCode"),s=document.getElementById("verificationCode");new E({elementContainer:e}),new E({elementContainer:t}),new E({elementContainer:s});const i=new L("#topUpBalanceForm",{errorFieldCssClass:"is-invalid"});i.addRequiredGroup("#topUpBalanceFormChooseToken","You should select at least one communication channel").addRequiredGroup("#topUpBalanceFormSelectThePaymentMethod","You should select at least one communication channel").addRequiredGroup("#topUpBalanceFormSelectTheCryptoYouPay","You should select at least one communication channel").addRequiredGroup("#topUpBalanceFormChooseATokenToTopUp","You should select at least one communication channel").onSuccess((e=>{console.log("success")}));const l=document.getElementById("topUpBalanceFormEnterAmountOfTopUp"),r=document.getElementById("topUpBalanceFormEnterAmountOfTopUpInput1"),o=document.getElementById("topUpBalanceFormEnterAmountOfTopUpInput2");l&&i.addField("#topUpBalanceFormEnterAmountOfTopUp",[{rule:"minLength",value:3},{rule:"maxLength",value:30},{rule:"required",errorMessage:""}]),r&&o&&i.addField("#topUpBalanceFormEnterAmountOfTopUpInput1",[{rule:"minLength",value:3},{rule:"maxLength",value:30},{rule:"required",errorMessage:""}]).addField("#topUpBalanceFormEnterAmountOfTopUpInput2",[{rule:"minLength",value:3},{rule:"maxLength",value:30},{rule:"required",errorMessage:""}])}},{pages:["/cabinet-withdraw"],callback:()=>{const e=document.getElementById("PINCodeModal");new E({elementContainer:e}),new L("#withdrawForm",{errorFieldCssClass:"is-invalid"}).addField("#withdrawFormAmountOfTokens",[{rule:"minLength",value:3},{rule:"maxLength",value:30},{rule:"required",errorMessage:""}]).addRequiredGroup("#withdrawFormChooseToken","You should select at least one communication channel").addRequiredGroup("#withdrawFormChooseAddressToWithdraw","You should select at least one communication channel").onSuccess((e=>{console.log("success")}))}},{pages:["/cabinet-token"],callback:()=>{new w({tabSelectorById:"tokenTabs"}),new L("#buyTokensForm",{errorFieldCssClass:"is-invalid"}).addField("#buyTokensFormAmountInUSD",[{rule:"required",errorMessage:""}]).addField("#buyTokensFormAmountInUSDAmountOfTokens",[{rule:"required",errorMessage:""}]).onSuccess((e=>{})),new L("#sellTokensForm",{errorFieldCssClass:"is-invalid"}).addField("#sellTokensFormAmountInUSD",[{rule:"required",errorMessage:""}]).addField("#sellTokensFormAmountInUSDAmountOfTokens",[{rule:"required",errorMessage:""}]).onSuccess((e=>{})),new L("#exchangeForm",{errorFieldCssClass:"is-invalid"}).addField("#exchangeFormAmountInUSD",[{rule:"required",errorMessage:""}]).addField("#exchangeFormAmountInUSDAmountOfTokens",[{rule:"required",errorMessage:""}]).onSuccess((e=>{}))}},{pages:["/cabinet-invest"],callback:()=>{let e=0;const t=document.querySelector('[data-js-plans="invest-amount"]'),s=t&&t.querySelectorAll("[data-js-plan]"),i=document.getElementById("amountInTokensSliderInput"),r=document.getElementById("amountInTokensSliderInputRange");let o=null;r&&amountInTokensSliderInput&&(o=n()(r,{min:0,max:0,value:[0,0],thumbsDisabled:[!0,!1],rangeSlideDisabled:!0,onInput:function(t){console.log("valueSet123",t[1]);const i=document.getElementById("amountInTokensSliderInput");i&&(i.value=`${t[1]} USD`),console.log("plansItemsIndexAndValueSet",e),s[e].setAttribute("data-js-pla-value-set",JSON.stringify(o.value()))}}),i.addEventListener("keyup",(e=>{e.target.value&&/^\d+$/.test(e.target.value)||(e.target.value="")})));const a=e=>{const t=e.querySelector("[data-js-plan-title]"),s=t&&t.getAttribute("data-js-plan-title"),i=e.querySelector("[data-js-plan-img]"),l=i&&i.getAttribute("data-js-plan-img"),r=e.querySelector("[data-js-plan-token-name]"),a=r&&r.getAttribute("data-js-plan-token-name"),n=e.querySelector("[data-js-plan-max]"),d=n&&n.getAttribute("data-js-plan-max"),c=document.querySelector("[data-js-plan-ivnest-amout]");if(c&&o){const t=c.querySelector("[data-js-plan-ivnest-amout-title]"),i=c.querySelector("[data-js-plan-ivnest-amout-img]"),r=c.querySelector("[data-js-plan-ivnest-amout-token-name]"),n=c.querySelector("[data-js-plan-invest-max]"),u=c.querySelector('input[type="hidden"][name="amout-title"]'),h=c.querySelector('input[type="hidden"][name="token-name"]'),m=c.querySelector('input[type="hidden"][name="invest-max"]');u&&(u.value=s),h&&(h.value=a),h&&(m.value=d),t&&(t.textContent=s),i&&(i.src=l),r&&(r.textContent=a),n&&(n.textContent=d),o.value(JSON.parse(e.getAttribute("data-js-pla-value-set"))),d&&o.max(+d.replace(/\s/g,"")),!d&&o.max(0)}};s&&s.length&&s.forEach(((t,i)=>{t.setAttribute("data-js-pla-value-set","[0, 0]"),0===i&&(l({element:t,type:"add"}),a(t)),t.addEventListener("click",(()=>{s.forEach((e=>{l({element:e,type:"remove"})})),l({element:t,type:"add"}),e=i,a(t)}))}))}},{pages:["/cabinet-settings"],callback:()=>{const e=document.getElementById("oldPINCode"),t=document.getElementById("newPINCode"),s=document.getElementById("verificationCode");new E({elementContainer:e}),new E({elementContainer:t}),new E({elementContainer:s}),new L("#yourPasswordForm",{errorFieldCssClass:"is-invalid"}).addField("#yourPasswordFormPassword",[{rule:"minLength",value:3},{rule:"maxLength",value:30},{rule:"required",errorMessage:""}]).addField("#yourPasswordFormNewPassword",[{rule:"minLength",value:3},{rule:"maxLength",value:30},{rule:"required",errorMessage:""}]).addField("#yourPasswordFormReEnterNewPassword",[{rule:"minLength",value:3},{rule:"maxLength",value:30},{rule:"required",errorMessage:""}]).onSuccess((e=>{})),new L("#yourEmailForm",{errorFieldCssClass:"is-invalid"}).addField("#yourEmailFormNewEmail",[{rule:"minLength",value:3},{rule:"maxLength",value:30},{rule:"email",errorMessage:""}]).onSuccess((e=>{}));const i=new L("#PINCodeForm",{errorFieldCssClass:"is-invalid",errorLabelStyle:{display:"none"}});i.form.querySelectorAll("[data-pincode-control]").forEach((e=>{i.addField(e,[{rule:"minLength",value:1},{rule:"maxLength",value:1},{rule:"required",errorMessage:""}])})),i.onSuccess((e=>{}));const l=new L("#verificationCodeForm",{errorFieldCssClass:"is-invalid",errorLabelStyle:{display:"none"}});l.form.querySelectorAll("[data-pincode-control]").forEach((e=>{l.addField(e,[{rule:"minLength",value:1},{rule:"maxLength",value:1},{rule:"required",errorMessage:""}])})),l.onSuccess((e=>{})),new L("#addWalletAddressForm",{errorFieldCssClass:"is-invalid"}).addField("#addWalletAddressFormEnterAddress",[{rule:"minLength",value:3},{rule:"maxLength",value:30},{rule:"required",errorMessage:""}]).addRequiredGroup("#addWalletAddressFormChooseToken","You should select at least one communication channel").onSuccess((e=>{console.log("success")}))}},{pages:["*"],callback:()=>{function e(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}e((function(){for(var e=document.querySelectorAll("[data-js-modal-trigger]"),s=0;s<e.length;s++)e[s].onclick=function(){var e=this.getAttribute("href").substr(1),s=document.getElementById(e);s&&(s.style.display="block"),s.classList?s.classList.add("open"):s.className+=" open",t()}})),e((function(){for(var e=document.querySelectorAll("[data-js-modal-close]"),t=document.querySelectorAll("[data-js-modal-overlay]"),s=0;s<e.length;s++)e[s].onclick=function(){var e=this.closest("[data-js-modal]");e&&(e.style.display="none"),e.classList?e.classList.remove("open"):e.className=e.className.replace(new RegExp("(^|\\b)"+"open".split(" ").join("|")+"(\\b|$)","gi")," "),i()};for(s=0;s<t.length;s++)t[s].onclick=function(){var e=this.closest("[data-js-modal]");e&&(e.style.display="none"),e.classList?e.classList.remove("open"):e.className=e.className.replace(new RegExp("(^|\\b)"+"open".split(" ").join("|")+"(\\b|$)","gi")," "),i()}}))}},{pages:["*"],callback:()=>{(()=>{const e=document.getElementsByClassName("[data-lang]");for(let t=0;t<e.length;t++){let s=e[t];s.addEventListener("click",(e=>{e.currentTarget.classList.toggle("dropdown-focus");let t=s.querySelector(".dropdown-value"),i=s.querySelector(".dropdown-menu"),l=s.getElementsByClassName("dropdown-item");for(let e=0;e<i.childElementCount;e++){let s=l[e];s.addEventListener("click",(()=>{t.textContent=s.textContent}))}})),window.addEventListener("click",(function(e){s.contains(e.target)||s.classList.remove("dropdown-focus")}))}})();const e=document.querySelector("[data-js-lang-button]"),t=document.querySelector("[data-js-lang-nav]"),s=()=>{t&&!t.classList.contains("d-none")&&t.classList.add("d-none")};e&&e.addEventListener("click",(()=>{t&&(t.classList.contains("d-none")?t&&t.classList.contains("d-none")&&t.classList.remove("d-none"):s())})),t&&e&&window.addEventListener("mousedown",(i=>{t.contains(i.target)||e.contains(i.target)||s()}))}},{pages:["*"],callback:()=>{document.querySelectorAll("[data-js-toggle]").forEach((e=>{e.querySelectorAll("[data-js-toggle-button]").forEach((e=>{e.addEventListener("click",(e=>{const t=e.currentTarget.closest("[data-js-toggle-button-parent]"),s=t&&t.querySelector("[data-js-toggle-block]"),i=t&&t.querySelectorAll("[data-js-toggle-class]");if(s.classList.contains("active"))s.style.height="0px",i.forEach((e=>{l({element:e,type:"remove"})})),s.addEventListener("transitionend",(function(){s.classList.remove("active")}),{once:!0});else{s.classList.add("active"),s.style.height="auto";var r=s.clientHeight+"px";s.style.height="0px",i.forEach((e=>{l({element:e,type:"add"})})),setTimeout((function(){s.style.height=r}),0)}}))}))}))}}];document.addEventListener("DOMContentLoaded",(()=>{S&&S.length&&S.forEach((e=>{const{pages:t,callback:s}=e;try{const e=window.location.pathname.indexOf(".html"),i=window.location.pathname.substring(0,e);t&&t.length&&t.forEach((e=>{e===i&&s(),"*"===e&&s()}))}catch(e){console.error(e)}}))}))})()})();